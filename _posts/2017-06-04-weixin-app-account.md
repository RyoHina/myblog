---
layout: post
title: "如何统一微信服务号用户和App用户？"
categories: weixin
tags: weixin
---

* content
{:toc}


用户在关注微信服务号后就可以拿到用户对本服务号的唯一openid，进一步就可以获取用户基本数据。Web页面通过auth授权网页登录拿到openid，就可以用户无感知实现用户注册登录了。 但如果我们还有App端怎样保证同一个用户登录后数据统一？ 这就用到了App微信登录。
<!--more-->

#### 1. 什么是微信公众平台？ ####
平台定位：微信公众平台用于管理、开放微信公众号（包括订阅号、服务号、企业号），简单的说就是微信公众号的后台运营、管理系统。基础功能：公众号可以群发，自动回复，自定义菜单，投票管理等。高级功能：开发模式下可以做到和网站、App一样复杂的功能。可以支持微信支付。申请微信服务号就需要在微信公众平台上进行，注册成功后，审核需要300元费用。
#### 2. 什么是微信开放平台？ ####
第三方应用/网站想通过微信登录，支付，分享内容到微信朋友圈等操作，就需要在微信开放平台申请移动应用，拿到相关appid和key。 注册成功后，审核也需要300元费用。
也就是说你做一个微信服务号和一个App，然后想用户数据统一，需要注册两个平台，然后才能统一帐号。
当然还有其他方案，比如在微信端绑定手机号，然后App端仅通过手机号登录，而且无法在手机端注册。 但如果App端想实现微信分享，好友分享等功能还是无法实现。
如果开发者有在多个公众号，或在公众号、移动应用之间统一用户帐号的需求，需要前往微信开放平台（open.weixin.qq.com）绑定公众号后，才可利用UnionID机制来满足统一账户的需求。 UnionID机制的作用说明：如果开发者拥有多个移动应用、网站应用和公众帐号，可通过获取用户基本信息中的unionid来区分用户的唯一性，因为同一用户，对同一个微信开放平台下的不同应用（移动应用、网站应用和公众帐号），unionid是相同的。 
总之，微信就爱麻烦，帐号互通就爱弄的这么麻烦！
顺便吐槽一下，服务号菜单中web view事件，就不能带用户openid参数一起过去吗，非得搞一个auth网页验证绕一圈才好，auth验证也好说，还非得要求网站备案才行！
